<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Qu√† Noel Cho Crush</title>
    <link rel="stylesheet" href="btn.css">
    <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.19/dist/sweetalert2.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900wght&display=swap');
     /* T·ªïng th·ªÉ */
body {
    font-family: 'Poppins', sans-serif;
        background: linear-gradient(to top, #f0e6f6, #ffffff);
        color: #333;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        overflow: hidden;
        position: relative;
}

body:before {
    content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: transparent;
        background-size: cover;
        z-index: -1;
        opacity: 0.8;
}

/* Ph√¥ng n·ªÅn cho m·ªói ph·∫ßn */
.container, #questionScreen, #journeyScreen{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(255, 182, 193, 0.7);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.container {
    background: rgba(255, 255, 255, 0.8);
    width: 100%;
    height: 100vh;
}
#finalGiftScreen_all {
    display: flex;
    justify-content: space-between; /* Canh c√°c ph·∫ßn t·ª≠ b√™n tr√°i v√† ph·∫£i */
    align-items: center;
    position: absolute;
    top: 20%;
    left: 50%;
    transform: translateX(-50%); /* CƒÉn gi·ªØa theo chi·ªÅu ngang */
    width: 80%;
    height: 70%;
    padding: 20px;
    justify-items: center;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(255, 182, 193, 0.7);
    overflow: hidden;
    flex-direction: row; /* C·∫£i thi·ªán b·ªë c·ª•c th√†nh m·ªôt h√†ng ngang */
    animation: glitter 3s infinite alternate;
}
#finalGiftScreen h3 {
    display: none;
    flex-wrap: wrap;
    font-size: medium;
    margin-left: 5px;
    margin-bottom: 10px;
    text-align: center;
}
#finalGiftScreen_all{
    margin-bottom: 20%;
}
/* ƒê·∫£m b·∫£o button v√† box ƒë∆∞·ª£c ·∫©n khi t·∫£i trang */
#finalGiftScreen_all #xac-nhan,
#finalGiftScreen_all .box {
    display: none;
}

 /* B·ªë c·ª•c c·ªßa finalGiftScreen */
 #finalGiftScreen {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
    text-align: center;
    max-height: 90%;
}
/* Box */
.box {
    position: relative;
    margin-top: 10%;
    width: 83%; 
    max-width: 1000px; /* ƒê·∫∑t max-width ƒë·ªÉ kh√¥ng qu√° r·ªông */
    height: 70px; 
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
    border-radius: 50px;
    box-shadow: 0 5px 50px rgba(0, 0, 0, 0.5);
    padding: 0 30px; 
    transition: transform 0.3s ease, width 0.5s ease;
    flex-wrap: wrap; /* Cho ph√©p c√°c ph·∫ßn t·ª≠ con xu·ªëng d√≤ng n·∫øu c·∫ßn */
}

/* C√°c ph·∫ßn t·ª≠ trong spinner */
.spinner {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row; 
    gap: 10px; /* ƒêi·ªÅu ch·ªânh kho·∫£ng c√°ch gi·ªØa c√°c ph·∫ßn t·ª≠ */
    user-select: none;
    flex-grow: 1; /* Cho ph√©p spinner chi·∫øm kh√¥ng gian c√≤n l·∫°i */
}

.progress {
    position: relative;
    flex-grow: 2; /* Cho ph√©p thanh ti·∫øn tr√¨nh n·ªü r·ªông */
    width: 100%;
    max-width: 700px; /* ƒê·∫∑t max-width ƒë·ªÉ kh√¥ng qu√° d√†i */
    background: #f0f0f0;
    height: 15px;
    border-radius: 50px;
    display: flex;
    flex-direction: row-reverse;
    overflow: hidden;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

#meter {
    position: relative;
    height: 100%;
    background: #0f0;
    border-radius: 50px;
    transition: 0.5s;
}

.btn {
    position: relative;
    width: 50px;
    height: 50px;
    text-align: center;
    line-height: 50px;
    background: #fff;
    font-size: 1.5em;
    justify-items: center;
    color: #444;
    border-radius: 50%;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s ease, transform 0.3s ease;
    box-shadow: 0 4px 10px rgba(255, 105, 180, 0.5);
}

.btn:hover {
    background: #f6a4ff;
    transform: scale(1.1); /* Ph√≥ng to nh·∫π khi hover */
}

.btn:active {
    background: #f28a8a;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
    transform: scale(0.95); /* GiÔøΩÔøΩÔøΩm k√≠ch th∆∞·ªõc khi nh·∫•n */
}

#output {
    position: relative;
    color: #fff;
    font-size: 2.5em;
    font-weight: 700;
    text-shadow: 0 0 10px rgba(0, 255, 0, 0.8), 0 0 15px #0f0;
    width: 60px;  /* Fixed width for output */
    text-align: center; /* Center the text */
    flex-shrink: 0; /* Prevent shrinking */
}

/* Th√¥ng b√°o cute */
#message {
    display: flex;
    position: relative;
    top: 30px;
    left: 0;
    text-align: center;
    font-size: 1.5em;
    color: #ff66b2;
    font-weight: bold;
    width: 90%;
    padding: 10px 20px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(255, 105, 180, 0.6);
    text-shadow: 0 0 8px rgba(255, 105, 180, 0.8), 0 0 15px #ff66b2;
    transition: opacity 0.5s ease, transform 0.5s ease;
    animation: fadeInSlide 1s forwards;
}

@keyframes fadeInSlide {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#questionScreen {
    background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,250,250,0.9) 100%);
    border: 2px solid #ffd1dc;
    border-radius: 25px;
    box-shadow: 0 8px 20px rgba(255, 182, 193, 0.5);
    padding: 40px;
    animation: fadeIn 2s ease-in-out;
    position: relative;
    overflow: hidden;
    max-width: 600px;
    margin: 0 auto;
}

/* D·∫£i ruy bƒÉng ƒë·ªè quanh khung */
#questionScreen::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    width: calc(100% + 20px);
    height: calc(100% + 20px);
    border: 3px dashed #ff69b4;
    border-radius: 30px;
    pointer-events: none;
    animation: ribbonMove 5s linear infinite;
}

/* Th√™m h√¨nh ·∫£nh tuy·∫øt r∆°i */
#questionScreen::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    opacity: 0.1;
    animation: snow 15s linear infinite;
    pointer-events: none;
}

/* Th√™m ƒë√®n l·∫•p l√°nh quanh khung */
.decorations {
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    display: flex;
    justify-content: space-between;
    pointer-events: none;
}

.decorations .string-light {
    display: flex;
    align-items: center;
    gap: 20px; /* Kho·∫£ng c√°ch gi·ªØa c√°c ƒë√®n */
    position: relative;
}

.string-light::before, .string-light::after {
    content: '';
    flex: 1;
    height: 2px;
    background-color: #ff69b4; /* M√†u d√¢y ƒë√®n */
    position: relative;
    top: 50%;
    transform: translateY(-50%);
}

.light {
    width: 20px;
    height: 20px;
    background-color: #ffeb3b; /* M√†u ƒë√®n */
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(255, 235, 59, 0.8), 0 0 20px rgba(255, 235, 59, 0.5);
    animation: blink 2s infinite;
    position: relative;
}

@keyframes blink {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.light:nth-child(odd) {
    background-color: #ff4081; /* M√†u ƒë√®n kh√°c cho ƒë√®n l·∫ª */
    box-shadow: 0 0 10px rgba(255, 64, 129, 0.8), 0 0 20px rgba(255, 64, 129, 0.5);
    animation-duration: 1.5s;
}

.light:nth-child(even) {
    background-color: #ffeb3b; /* M√†u ƒë√®n kh√°c cho ƒë√®n ch·∫µn */
    box-shadow: 0 0 10px rgba(255, 235, 59, 0.8), 0 0 20px rgba(255, 235, 59, 0.5);
    animation-duration: 2.5s;
}

/* Thay ƒë·ªïi ph√¥ng ch·ªØ v√† m√†u s·∫Øc cho ti√™u ƒë·ªÅ */
#questionScreen h2 {
    font-family: 'Great Vibes', cursive;
    color: #ff4081;
    font-size: 2.5rem;
    margin-bottom: 30px;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    position: relative;
    z-index: 1;
    transition: transform 0.3s ease;
}

#questionScreen h2:hover {
    transform: translateY(-5px) rotate(-1deg);
}

/* Th√™m bi·ªÉu t∆∞·ª£ng t∆∞∆°ng t√°c */
.interactive-icons {
    position: absolute;
    bottom: 10px;
    right: 10px;
    display: flex;
    gap: 15px;
    z-index: 1;
}

.interactive-icons img {
    width: 40px;
    height: 40px;
    background: transparent;
    cursor: pointer;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.interactive-icons img:hover {
    transform: scale(1.2);
    opacity: 0.8;
}

/* Thay ƒë·ªïi ki·ªÉu n√∫t */
.choice-buttons .btn-love1 {
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
    color: #fff;
    font-size: 1.2rem;
    padding: 15px 30px;
    border-radius: 30px;
    box-shadow: 0px 4px 15px rgba(255, 105, 180, 0.6);
    transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
    margin: 10px;
}

.choice-buttons .btn-love1::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300%;
    height: 300%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%) rotate(45deg);
    transition: all 0.75s;
}

.choice-buttons .btn-love1:hover::after {
    width: 0%;
    height: 0%;
}

.choice-buttons .btn-love1:hover {
    background: linear-gradient(135deg, #ff6ec4 0%, #7873f5 100%);
    transform: scale(1.05);
    box-shadow: 0px 6px 20px rgba(255, 105, 180, 0.8);
}

/* Hi·ªáu ·ª©ng fadeIn */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Hi·ªáu ·ª©ng tuy·∫øt r∆°i */
@keyframes snow {
    0% { transform: translateY(0); }
    100% { transform: translateY(100vh); }
}

/* Hi·ªáu ·ª©ng d·∫£i ruy bƒÉng di chuy·ªÉn */
@keyframes ribbonMove {
    0% { transform: rotate(0deg); }
    50% { transform: rotate(15deg); }
    100% { transform: rotate(0deg); }
}

/* Hi·ªáu ·ª©ng ƒë√®n l·∫•p l√°nh */
@keyframes twinkle {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 0.4; }
}

/* Bi·ªÉu t∆∞·ª£ng trang tr√≠ t∆∞∆°ng t√°c */
.interactive-icons img {
    animation: float 6s ease-in-out infinite;
}

.interactive-icons .heart-icon:hover {
    transform: scale(1.3) rotate(15deg);
    box-shadow: 0 0 10px rgba(255, 105, 180, 0.7);
}

.interactive-icons .star-icon:hover {
    transform: scale(1.3) rotate(-15deg);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
}

.interactive-icons .candy-icon:hover {
    transform: scale(1.3) rotate(10deg);
    box-shadow: 0 0 10px rgba(255, 99, 71, 0.7);
}

/* Hi·ªáu ·ª©ng float cho bi·ªÉu t∆∞·ª£ng */
@keyframes float {
    0% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(360deg); }
    100% { transform: translateY(0) rotate(720deg); }
}

/* Hi·ªáu ·ª©ng tuy·∫øt r∆°i nh·∫π nh√†ng */
.snowflake {
    position: fixed;
    top: -10px;
    pointer-events: none;
    z-index: 1000;
    animation: snowflakeFall 10s linear infinite;
}

@keyframes snowflakeFall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}

/* ƒê√®n l·∫•p l√°nh di chuy·ªÉn */
.string-light img {
    animation: blink 3s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Avatar */
.avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin: 10px;
    cursor: pointer;
    transition: transform 0.3s ease, border 0.3s ease;
}

.avatar:hover {
    transform: scale(1.1);
}

/* Hi·ªáu ·ª©ng g·ª≠i t√¨nh c·∫£m */
@keyframes sendLove {
    0% {
        transform: translate(0, 0);
        opacity: 1;
    }
    100% {
        transform: translate(100px, -200px);
        opacity: 0;
    }
}

.love-icon {
    position: absolute;
    width: 30px;
    height: 30px;
    animation: sendLove 2s forwards;
}

#journeyScreen {
    background-size: cover;
    color: white;
}

@keyframes glitter {
        0% { background: linear-gradient(to bottom, #ffcccb, #f0e6f6); }
        100% { background: linear-gradient(to bottom, #ffb6c1, #ec9ac2); }
    }
@keyframes regretAnim {
    0% { transform: scale(1); }
    100% { transform: scale(1.05); }
}

/* T√πy ch·ªânh popup ch·ªçn nh·∫°c trong SweetAlert2 */
.swal2-popup {
    width: 90% !important;
    max-width: 400px !important;
    padding: 20px !important;
    border-radius: 15px !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%) !important;
}

/* Ti√™u ƒë·ªÅ trong popup */
.swal2-title {
    font-size: 1.6rem !important;
    color: #fff !important;
    text-align: center !important;
    margin-bottom: 15px !important;
}

/* N·ªôi dung trong popup */
.swal2-content {
    font-size: 1.2rem !important;
    color: #fff !important;
    text-align: center !important;
    margin-bottom: 20px !important;
}
.swal2-select option {
    padding: 10px !important;
    font-size: 1rem !important;
    background-color: rgba(255, 255, 255, 0.9) !important;
    color: #333 !important;
}
.swal2-confirm {
    background-color: #ff69b4 !important;
    border-radius: 30px;
    box-shadow: 0px 4px 15px rgba(255, 105, 180, 0.5);
    font-size: 1rem;
}

.swal2-icon {
    border: 3px solid #fff !important;
}
/* Select input trong popup */
.swal2-select {
    width: 80% !important;
    padding: 12px !important;
    font-size: 1rem !important;
    border-radius: 8px !important;
    border: 2px solid #fff !important;
    background-color: rgba(255, 255, 255, 0.8) !important;
    color: #333 !important;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23fff" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>') !important;
    background-repeat: no-repeat !important;
    background-position: right 10px center !important;
    background-size: 1em !important;
}
@keyframes boxGlow {
    0% { box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.6); }
    100% { box-shadow: 0px 0px 20px rgba(255, 255, 255, 1); }
}
.choice-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-top: 20px;
}

.choice-buttons .btn-love1 {
    background-color: #ff99cc;
    color: white;
    font-size: 1.2rem;
    padding: 15px 30px;
    border-radius: 30px;
    box-shadow: 0px 0px 15px rgba(255, 182, 193, 0.7);
    transition: transform 0.3s ease;
}

.choice-buttons .btn-love1:hover {
    transform: scale(1.1);
    background-color: #ff66b3;
}

/* Ph√¥ng n·ªÅn cho c√°c b∆∞·ªõc ti·∫øn h√†nh */
.snow-path {
    background-color: #e6f7ff;
    padding: 20px;
    border-radius: 20px;
    margin-top: 20px;
    box-shadow: 0px 0px 15px rgba(255, 182, 193, 0.5);
}

.leaf {
    position: absolute;
    top: -30px;
    left: 50%;
    width: 40px;
    height: 40px;
    background-color: #4CAF50;
    border-radius: 50%;
    animation: leaf-fall 5s linear infinite;
}

@keyframes leaf-fall {
    0% { transform: translateY(0) rotate(0deg); }
    100% { transform: translateY(80vh) rotate(360deg); }
}

@keyframes giftOpen {
    0% { transform: scale(0); }
    100% { transform: scale(1); }
}
/* T·∫°o hi·ªáu ·ª©ng tuy·∫øt r∆°i nh·∫π nh√†ng ƒë·ªÉ kh√¥ng gian th√™m ph·∫ßn l√£ng m·∫°n */
@keyframes snow {
    0% { top: -10%; opacity: 0.8; }
    100% { top: 100%; opacity: 0; }
}

.snowflake {
    position: absolute;
    top: -10%;
    left: calc(100% * (random() - 0.5));
    opacity: 0.6;
    font-size: 12px;
    animation: snow 10s linear infinite;
    pointer-events: none;
}

.snowflake:nth-child(odd) {
    animation-duration: 12s;
    font-size: 14px;
}

/* T·∫°o c√°c bong b√≥ng bay l√™n cho kh√¥ng kh√≠ d·ªÖ th∆∞∆°ng */
@keyframes bubble {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-200px); opacity: 0; }
}
/* Ti√™u ƒë·ªÅ v√† m√¥ t·∫£ */
h2, p {
    font-size: 1.3rem;
    color: #333;
    font-weight: normal;
    margin-top: 25px;
    letter-spacing: 1px;
}

/* Th√™m ch√∫t "ƒë·ªôc ƒë√°o" cho c√°c chi ti·∫øt */
.gift-ribbon::before, .gift-ribbon::after {
    content: "";
    position: absolute;
    background-color: #fff;
    border-radius: 50%;
    opacity: 0.8;
}
.btn-love1:active {
    animation: popButton 0.2s ease-in-out;
}

/* Hi·ªáu ·ª©ng khi nh·∫•n n√∫t */
.btn-love1 {
    background-color: #ff4081;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    font-size: 15px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-top: 20px;
    transition: background-color 0.3s ease;
}

.btn-love1:hover {
    background-color: #e91e63;
}
h3.typing-effect1 {
    color: #FF66B2;
    font-weight: bold;
    font-size: 2rem; /* TƒÉng k√≠ch th∆∞·ªõc ch·ªØ */
    animation: typing 4s steps(40) 5000s forwards; /* D√πng "forwards" ƒë·ªÉ gi·ªØ l·∫°i tr·∫°ng th√°i cu·ªëi */
    text-shadow: 0px 0px 20px rgba(255, 102, 178, 0.8), 0px 0px 30px rgba(255, 102, 178, 0.5);
}

.typing-effect1 {
    line-height: 1.7;
    color: #FF66B2;
    font-weight: bold;
    padding: 0 20px;
    width: 100%; /* ƒê·∫£m b·∫£o kh√¥ng b·ªã c·∫Øt b·ªõt */
    overflow: hidden;
    font-size: 2rem; /* TƒÉng k√≠ch th∆∞·ªõc ch·ªØ */
}


/* C·∫£i ti·∫øn hi·ªáu ·ª©ng g√µ ch·ªØ */
@keyframes typing {
    from {
        width: 0;
    }
    to {
        width: 100%;
    }
}
/* Responsive design */
@media only screen and (max-width: 768px) {
  body {
    font-size: 14px;
  }
  .container {
    padding: 10px;
  }
}

@media only screen and (max-width: 480px) {
  body {
    font-size: 12px;
  }
  .container {
    padding: 5px;
  }
}
#finalGiftScreen_all #xac-nhan.moved {
    position: fixed;
    top: 10px;  /* Di chuy·ªÉn l√™n tr√™n c√πng */
    left: 90%;  /* Di chuy·ªÉn ra b√™n ph·∫£i */
    transform: translateX(-50%);  /* CƒÉn gi·ªØa */
}

/* Th√™m hi·ªáu ·ª©ng tuy·∫øt r∆°i nh·∫π nh√†ng */
.snowfall {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
}

.snowfall::before,
.snowfall::after {
    content: '';
    position: absolute;
    top: -10%;
    width: 100%;
    height: 100%;
    background-image: url('https://i.imgur.com/5KQf5bG.png'); /* H√¨nh ·∫£nh tuy·∫øt */
    animation: snow 10s linear infinite;
    opacity: 0.5;
}

/* Trang tr√≠ v√≤ng hoa garland */
.decorative-garland {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 15px;
}

.ornament {
    width: 20px;
    height: 20px;
    background-color: #ff6ec4;
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(255, 105, 180, 0.7);
    animation: float 3s ease-in-out infinite;
}

/* Hi·ªáu ·ª©ng tr√°i tim nh·∫•p nh√°y */
.heart-animation {
    font-size: 2rem;
    animation: heartbeat 1.5s infinite;
    margin-bottom: 20px;
}

/* ƒê√®n l·∫•p l√°nh quanh container */
.twinkling-lights {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
}

.twinkling-lights .light {
    width: 10px;
    height: 10px;
    background-color: #fff;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
    animation: twinkle 2s infinite;
}

/* Animations */
@keyframes snow {
    0% { transform: translateY(0) rotate(0deg); }
    100% { transform: translateY(100vh) rotate(360deg); }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25%, 75% { transform: scale(1.2); }
}

@keyframes twinkle {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 0.3; }
}

/* C·∫≠p nh·∫≠t phong c√°ch cho container */
.container {
    background: rgba(255, 255, 255, 0.9);
    width: 90%;
    max-width: 600px;
    height: 80vh;
    border-radius: 25px;
    box-shadow: 0 0 40px rgba(255, 105, 180, 0.6);
    position: relative;
    overflow: hidden;
    padding: 30px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    animation: glow 5s infinite alternate;
}

/* Hi·ªáu ·ª©ng ph√°t s√°ng nh·∫π nh√†ng */
@keyframes glow {
    from {
        box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
    }
    to {
        box-shadow: 0 0 40px rgba(255, 105, 180, 0.9);
    }
}

/* N√∫t b·∫Øt ƒë·∫ßu v·ªõi hi·ªáu ·ª©ng d·∫£i s√°ng */
.btn-love1 {
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
    color: #fff;
    font-size: 1.2rem;
    padding: 15px 30px;
    border-radius: 30px;
    box-shadow: 0px 4px 20px rgba(255, 105, 180, 0.6);
    transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
    margin-top: 20px;
}

.btn-love1::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255, 255, 255, 0.2);
    transform: rotate(45deg);
    transition: all 0.5s;
}

.btn-love1:hover::before {
    top: 150%;
    left: 150%;
}

.btn-love1:hover {
    background: linear-gradient(135deg, #ff6ec4 0%, #7873f5 100%);
    transform: scale(1.05);
    box-shadow: 0px 6px 25px rgba(255, 105, 180, 0.8);
}

/* C·∫£i ti·∫øn cho M√†n H√¨nh 1: initialMessage */

/* Th√™m hi·ªáu ·ª©ng l·∫•p l√°nh */
.sparkles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.3;
    animation: sparkle 5s linear infinite;
    pointer-events: none;
}

/* Hi·ªáu ·ª©ng sparkle */
@keyframes sparkle {
    0% { background-position: 0 0; }
    100% { background-position: 100px 100px; }
}


@keyframes fall {
    0% {
        transform: translateY(0) rotate(0deg);
    }
    100% {
        transform: translateY(100vh) rotate(360deg);
    }
}

/* C·∫£i thi·ªán hi·ªáu ·ª©ng typing cho ti√™u ƒë·ªÅ */
.typing-effect {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    color: #ff4081;
    text-shadow: 2px 2px 8px rgba(255, 105, 180, 0.7);
    position: relative;
    z-index: 2;
    margin-bottom: 20px;
}

/* Th√™m hi·ªáu ·ª©ng ƒë√®n nh·∫•p nh√°y */
.twinkling-lights .light {
    background-color: #fff;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
    animation: twinkle 2s infinite;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 0.3; }
}

/* N√∫t b·∫Øt ƒë·∫ßu v·ªõi hi·ªáu ·ª©ng √°nh s√°ng */
.btn-love1 {
    position: relative;
    overflow: hidden;
}

.btn-love1::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255, 255, 255, 0.2);
    transform: rotate(45deg);
    transition: all 0.5s;
}

.btn-love1:hover::after {
    top: 150%;
    left: 150%;
}

/* Th√™m hi·ªáu ·ª©ng nh·∫•p nh√°y ng√¥i sao */
.decorative-garland .ornament {
    animation: twinkleOrnament 4s infinite;
}

@keyframes twinkleOrnament {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Th√™m hi·ªáu ·ª©ng nh·∫•p nh√°y tr√°i tim */
.heart-animation {
    font-size: 3rem;
    animation: heartbeat 1.5s infinite;
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* Responsive adjustments */
@media only screen and (max-width: 768px) {
    .typing-effect {
        font-size: 2rem;
    }
    .btn-love1 {
        padding: 10px 20px;
        font-size: 1rem;
    }
}

@media only screen and (max-width: 480px) {
    .typing-effect {
        font-size: 1.5rem;
    }
    .btn-love1 {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
}
/* Styles cho container c·ªßa n√∫t nh·∫°c v√† tooltip */
.music-button-container {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Styles cho n√∫t nh·∫°c */
.music-button {
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 1.5rem;
    position: relative;
}

/* Styles cho tooltip */
.tooltip-text {
    visibility: hidden;
    width: 220px;
    background-color: rgba(255, 105, 180, 0.9);
    color: #fff;
    text-align: center;
    border-radius: 10px;
    padding: 5px 10px;
    position: absolute;
    bottom: -250%; /* V·ªã tr√≠ tr√™n n√∫t */
    left: -200%;
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.9rem;
    pointer-events: none;
}

/* Hi·ªÉn th·ªã tooltip khi hover */
.music-button:hover + .tooltip-text {
    visibility: visible;
    opacity: 1;
}
@media only screen and (max-width: 480px) {
    .swal2-popup {
        width: 95% !important;
        padding: 15px !important;
    }

    .swal2-title {
        font-size: 1.3rem !important;
    }

    .swal2-content {
        font-size: 1rem !important;
    }

    .swal2-select {
        font-size: 0.9rem !important;
        padding: 8px !important;
    }

    .swal2-confirm, .swal2-cancel {
        font-size: 0.9rem !important;
        padding: 10px !important;
    }
}
/* T√πy ch·ªânh bi·ªÉu t∆∞·ª£ng m≈©i t√™n trong select khi ·ªü ch·∫ø ƒë·ªô landscape */
@media (min-width: 481px) and (orientation: landscape) {
    .swal2-select {
        background-position: right 12px center !important;
    }
}
    </style>
</head>
<body>
    <!-- M√†n H√¨nh 1: Ch√†o C·∫≠u, Ng√†y Noel ƒê·∫∑c Bi·ªát -->
    <div class="container" id="initialMessage">
        <!-- <div class="snowfall"></div> -->
        <div class="decorative-garland">
            <span class="ornament"></span>
            <span class="ornament"></span>
            <span class="ornament"></span>
            <span class="ornament"></span>
        </div>
        <div class="heart-animation">‚ù§Ô∏è</div>
        
        <!-- Th√™m hi·ªáu ·ª©ng l·∫•p l√°nh -->
        <div class="sparkles"></div>
        
        <h1 class="typing-effect">Ch√†o c·∫≠u, Ng√†y Noel ƒê·∫∑c Bi·ªát!</h1>
        <p>Ch√∫c C·∫≠u M·ªôt Gi√°ng Sinh Vui V·∫ª...</p>
        <button class="btn-love1" onclick="playSound('mp3/sound_cute_01.MP3'); startJourney()">B·∫Øt ƒë·∫ßu nh√©</button>
        <div class="twinkling-lights">
            <span class="light"></span>
            <span class="light"></span>
            <span class="light"></span>
            <span class="light"></span>
        </div>
    </div>
    <!-- M√†n H√¨nh 2: M·ªôt C√¢u H·ªèi ƒê·∫∑c Bi·ªát -->
    <div id="questionScreen" style="display: none;">
        <div class="decorations">
            <div class="string-light">
                <span class="light"></span>
                <span class="light"></span>
                <span class="light"></span>
                <span class="light"></span>
            </div>
        </div>
        <div class="interactive-icons">
            <img src="https://e1.pngegg.com/pngimages/925/455/png-clipart-pere-noel-cerf-jour-de-noel-dessin-anime-rennes-animal-dessin-nez.png" alt="Heart" class="heart-icon">
            <img src="https://w7.pngwing.com/pngs/444/276/png-transparent-rudolph-reindeer-santa-claus-cuteness-baby-deer-s-antler-mammal-carnivoran.png" alt="Star" class="star-icon">
            <img src="https://png.pngtree.com/png-vector/20201106/ourlarge/pngtree-wink-christmas-elk-clip-art-png-image_2395927.jpg" alt="Candy" class="candy-icon">
        </div>
        <h2 class="typing-effect">C·∫≠u c√≥ mu·ªën c√πng t·ªõ tr·∫£i qua m√πa Gi√°ng Sinh n√†y kh√¥ng?</h2>
        <div class="choice-buttons">
            <button class="btn-love1" onclick="handleChoice(true)">C√≥</button>
            <button class="btn-love1" onclick="handleChoice(false)">Kh√¥ng</button>
        </div>
    </div>
    <!-- M√†n H√¨nh 3: M√≥n Qu√† Gi√°ng Sinh -->
    <div id="finalGiftScreen_all" style="display: none;">
        <!-- <div class="snowfall"></div> -->
        <div class="decorative-garland">
            <span class="ornament"></span>
            <span class="ornament"></span>
            <span class="ornament"></span>
            <span class="ornament"></span>
        </div>
        <div id="finalGiftScreen">
            <h3 class="typing-effect1" style="display: none;">
                Tr∆∞·ªõc khi nh·∫≠n m√≥n qu√† si√™u to kh·ªïng l·ªì c·ªßa t·ªõ, h√£y ƒë√°nh gi√° ƒë·ªô ƒë·∫πp trai c·ªßa t·∫•m th√¢n n√†y bao nhi√™u tr√™n thang ƒëi·ªÉm 10 trong m·∫Øt c·∫≠u ƒë√¢y.
            </h3>
            <button id="xac-nhan" type="button" style="display: none; z-index: 999999999;" onclick="openGift()" class="btn-love">
                X√°c nh·∫≠n
            </button>
        </div>
        <div class="box">
            <div class="spinner">
                <span id="output"></span>
                <div class="progress">
                    <span id="meter"></span>
                </div>
                <div class="btn plus" onclick="plus()">+</div>
                <div class="btn minus" onclick="minus()">-</div>
            </div>
        </div>
        <div id="message" style="display: none;">M·∫•y ƒë√¢y, m·∫•y ƒë√¢y, ƒë·ª´ng l√†m t·ªõ bu·ªìn ƒë·∫•y nh√©! ‚ù§Ô∏è</div>
        <!-- Th√™m hi·ªáu ·ª©ng √°nh s√°ng v√† ng√¥i sao -->
        <div class="twinkling-stars">
            <span class="star"></span>
            <span class="star"></span>
            <span class="star"></span>
            <span class="star"></span>
        </div>
        <!-- Th√™m tr√°i tim bay l√™n -->
        <div class="floating-hearts">
            <span class="heart">‚ù§Ô∏è</span>
            <span class="heart">‚ù§Ô∏è</span>
            <span class="heart">‚ù§Ô∏è</span>
        </div>
    </div>

    <div class="snow"></div>

    <!-- Th√™m √¢m nh·∫°c n·ªÅn -->
    <audio id="background-music" src="mp3/cute_piano.mp3" loop autoplay></audio>

    <!-- Th√™m container cho n√∫t nh·∫°c v√† tooltip -->
<div class="music-button-container">
    <button class="music-button" onclick="toggleMusic()">üéµ</button>
    <span class="tooltip-text">‚ù§Ô∏è Nh·∫•p m·ªôt l·∫ßn ƒë·ªÉ t·∫Øt/m·ªü nh·∫°c, nh·∫•p ƒë√¥i ƒë·ªÉ ch·ªçn b√†i y√™u th√≠ch! ‚ù§Ô∏è</span>
</div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.19/dist/sweetalert2.all.min.js"></script>
    <script>
        let x = 0;
let output = document.getElementById('output');
let meter = document.getElementById('meter');
let message = document.getElementById('message');
output.innerHTML = x;

        function updateMessage() {
            if (x == 0) {
                message.innerHTML = "Th√¥i n√†o! c√≥ mu·ªën l·∫•y qu√† kh√¥ng ƒë√¢y üò©";
            } else if (x == 10) {
                message.innerHTML = "M·∫Øt nh√¨n c·ªßa c·∫≠u th·∫≠t kh√¥ng t·ªìi, N·∫øu t·ªõ sinh tr∆∞·ªõc nƒÉm 1504 t√°c ph·∫©m c·ªßa Michelangelo s·∫Ω kh√¥ng c√≤n l√† b·ª©c ch√¢n dung c·ªßa David üòé";
            } else if (x < 3) {
                message.innerHTML = "Ch·ªâ v·∫≠y th√¥i sao üòï";
            } else if (x < 7) {
                message.innerHTML = "T·ªõ ƒë√°ng iu l·∫Øm ƒë√≥, suy nghƒ© th√™m ƒëi m√† ü•∫";
            } else if (x < 10) {
                message.innerHTML = "C√¥ g√°i th√¥ng minh l√† c√¥ g√°i bi·∫øt t·ªõ xinh trai c·ª° n√†o m√† üòè";
            }
            message.style.opacity = 1;
            message.style.transform = "scale(1.05)"; // Hi·ªáu ·ª©ng ph√≥ng to nh·∫π
            setTimeout(() => {
                message.style.opacity = 0;
                message.style.transform = "scale(1)";
            }, 10000); // ·∫®n th√¥ng ƒëi·ªáp sau 10 gi√¢y
        }

        function plus() {
            if(x>=10){
                meter.style.background = "#ff4081"
                meter.style.filter = "drop-shadow(0 0 2.5px #ff4081) drop-shadow(0 0 10px #ff4081)"
                updateMessage();
                return false;
            }
            if (x >= 0){
                meter.style.background = "#0f0"
                meter.style.filter = "drop-shadow(0 0 2.5px #0f0) drop-shadow(0 0 10px #0f0)"
            }
            if (x >= 4){
                meter.style.background = "#ff80ab"
                meter.style.filter = "drop-shadow(0 0 2.5px #ff80ab) drop-shadow(0 0 10px #ff80ab)"
            }
            if (x >= 8){
                meter.style.background = "#ff3385"
                meter.style.filter = "drop-shadow(0 0 2.5px #ff3385) drop-shadow(0 0 10px #ff3385)"
            }
            output.innerHTML = ++x;
            meter.style.width = x * 10 + '%';
        }

        function minus() {
            if (x <= 0){
                return false;
            }
            if (x <= 6){
                meter.style.background = "#f00"
                meter.style.filter = "drop-shadow(0 0 2.5px #f00) drop-shadow(0 0 10px #f00)"
            }
            output.innerHTML = --x;
            meter.style.width = x * 10 + '%'
        }

        // H√†m x·ª≠ l√Ω hi·ªÉn th·ªã ch·ªØ v√† t·ª± ƒë·ªông xu·ªëng d√≤ng
        function typeTextWithLineBreaks(textElement) {
            const fullText = textElement.textContent;
            textElement.textContent = '';  // X√≥a vƒÉn b·∫£n c≈© nhanh ch√≥ng
            let i = 0;
            let currentLine = ''; // D√πng ƒë·ªÉ theo d√µi d√≤ng hi·ªán t·∫°i
            let lines = []; // L∆∞u tr·ªØ c√°c d√≤ng c·ªßa vƒÉn b·∫£n

    textElement.style.display = 'block'; 

            // T·∫°o m·ªôt interval ƒë·ªÉ xu·∫•t t·ª´ng ch·ªØ m·ªôt
            const interval = setInterval(() => {
                currentLine += fullText[i];
                textElement.textContent = lines.join('\n') + currentLine;

        // Ki·ªÉm tra n·∫øu d√≤ng hi·ªán t·∫°i ƒë√£ ƒë·∫ßy v√† c·∫ßn ph·∫£i xu·ªëng d√≤ng
        if (textElement.scrollWidth > textElement.offsetWidth) {
            lines.push(currentLine.trim()); // L∆∞u d√≤ng hi·ªán t·∫°i
            currentLine = ''; // B·∫Øt ƒë·∫ßu d√≤ng m·ªõi
        }

        i++;

        // D·ª´ng l·∫°i khi ƒë√£ g√µ h·∫øt vƒÉn b·∫£n
        if (i >= fullText.length) {
            clearInterval(interval); // D·ª´ng interval
            if (currentLine.length > 0) {
                lines.push(currentLine); // L∆∞u d√≤ng cu·ªëi c√πng n·∫øu c√≥
            }
            textElement.textContent = lines.join('\n'); // C·∫≠p nh·∫≠t l·∫°i to√†n b·ªô vƒÉn b·∫£n sau khi k·∫øt th√∫c

                    // Hi·ªÉn th·ªã button v√† box khi ho√†n th√†nh typing
                    document.getElementById('xac-nhan').style.display = 'block';
                    document.querySelector('.box').style.display = 'flex'; // Hi·ªÉn th·ªã box (spinner)
                    document.getElementById('message').style.display = 'block'; // Hi·ªÉn th·ªã th√¥ng ƒëi·ªáp
                    
                    // ·∫®n floating-hearts sau khi ho√†n th√†nh typing
                    const floatingHearts = document.querySelector('.floating-hearts');
                    if (floatingHearts) {
                        floatingHearts.style.display = 'none';
                    }
                }
            }, 50); // T·ªëc ƒë·ªô g√µ (80ms m·ªói k√Ω t·ª±)
        }

        let noChoiceCount = 0;

        function startJourney() {
            try {
                const screens = {
                    initialMessage: document.getElementById('initialMessage'),
                    questionScreen: document.getElementById('questionScreen'),
                    finalGiftScreen: document.getElementById('finalGiftScreen_all')
                };

                Object.keys(screens).forEach((key) => {
                    if (!screens[key]) {
                        throw new Error(`Missing element with ID: ${key}`);
                    }
                });

                screens.initialMessage.style.display = 'none';
                screens.questionScreen.style.display = 'block';
            } catch (error) {
                console.error(error);
            }
        }

        // H√†m x·ª≠ l√Ω l·ª±a ch·ªçn
        function handleChoice(accepted) {
            const buttons = document.querySelectorAll('.btn-love1');
            buttons.forEach(button => {
                button.style.transition = 'all 0.3s ease-in-out';
                if (accepted) {
                    button.style.transform = 'scale(1.2)';
                    playSound('mp3/sound_cute_01.MP3');
                    Swal.fire({
                        title: 'T·ªõ r·∫•t vui!',
                        text: 'C√πng t·ªõ t·∫°o n√™n m√πa Gi√°ng Sinh tuy·ªát v·ªùi nh√©!',
                        imageUrl: 'https://media.giphy.com/media/UVk5yzljef0kGiayL1/giphy.gif',
                        imageWidth: 400,
                        imageHeight: 200,
                        imageAlt: 'GIF image',
                        confirmButtonColor: '#ff4b6e',
                        confirmButtonText: 'ƒê·ªìng √Ω 2 tay lun n√®'
                    }).then((result) => {
                        document.getElementById('questionScreen').style.display = 'none';
                        document.getElementById('finalGiftScreen_all').style.display = 'block'; 
                        if (result.isConfirmed) {
                            const textElement1 = document.querySelector('.typing-effect1');
                            typeTextWithLineBreaks(textElement1); // Ch·∫°y hi·ªáu ·ª©ng typing sau khi xu·∫•t hi·ªán
                        }
                    });
                } else {
                    button.style.transform = 'scale(0.8)';
                    playSound('https://www.soundjay.com/buttons/sounds/button-10.mp3');
                    noChoiceCount++;
                    if (noChoiceCount >=3 && noChoiceCount <=17) {
                        const rejectButton = document.querySelector('button[onclick="handleChoice(false)"]');
                        const maxX = window.innerWidth - rejectButton.offsetWidth;
                        const maxY = window.innerHeight - rejectButton.offsetHeight;
                        
                        rejectButton.style.position = 'fixed';
                        rejectButton.style.left = Math.random() * maxX + 'px';
                        rejectButton.style.top = Math.random() * maxY + 'px';
                        sendLove(); // G·ª≠i t√¨nh c·∫£m
                    } else {
                        if (noChoiceCount > 18){
                            Swal.fire({
                                title: 'D√π sao...üòî',
                                text: 'T·ªõ v·∫´n lu√¥n qu√Ω m·∫øn c·∫≠u, ch√∫c c·∫≠u Gi√°ng Sinh ·∫•m √°p!',
                                imageUrl: 'https://media.giphy.com/media/3o6wrebnKWmvx4ZBio/giphy.gif',  // ƒê∆∞·ªùng d·∫´n ƒë·∫øn ·∫£nh ƒë·ªông (GIF)
                                imageWidth: 400,
                                imageHeight: 200,
                                imageAlt: 'GIF image',  // M√¥ t·∫£ cho ·∫£nh ƒë·ªông
                                confirmButtonColor: '#ff4b6e'
                            });
                        }
                    }
                }
            });
        }

        function openGift() {
            const button = document.getElementById('xac-nhan');
            
            // Ki·ªÉm tra n·∫øu n√∫t ch∆∞a ƒë∆∞·ª£c di chuy·ªÉn, th·ª±c hi·ªán di chuy·ªÉn n√≥ ra ngo√†i #finalGiftScreen_all
            if (!button.dataset.moved) {
                const container = document.body;  // Di chuy·ªÉn ra ngo√†i ph·∫ßn t·ª≠ cha
                container.appendChild(button);  // Th√™m n√∫t v√†o body
                button.dataset.moved = 'true';  // ƒê√°nh d·∫•u l√† n√∫t ƒë√£ ƒë∆∞·ª£c di chuy·ªÉn
            }

    if (x === 10) {
        window.location.href = "gift-box.html";
    } else {
        updateMessage();
        playSound('mp3/sound_cute_01.MP3');
        const maxX = window.innerWidth - button.offsetWidth;
        const maxY = window.innerHeight - button.offsetHeight;
        
        button.style.position = 'fixed';
        button.style.left = Math.random() * maxX + 'px';
        button.style.top = Math.random() * maxY + 'px';
    }
}

        function moveBg(e) {
            const rect = e.target.getBoundingClientRect();
            e.target.style.setProperty('--x', (e.clientX - rect.x) / rect.width * 100);
            e.target.style.setProperty('--y', (e.clientY - rect.y) / rect.height * 100);
        }
        document.querySelector("button").addEventListener('pointermove', moveBg);
    </script>

<script>
    // Ph√°t nh·∫°c n·ªÅn khi t·∫£i trang
    window.onload = function() {
        const music = document.getElementById('background-music');
        music.volume = 0.2; // ƒêi·ªÅu ch·ªânh √¢m l∆∞·ª£ng
        music.play();
    }

    // T·∫Øt/M·ªü nh·∫°c n·ªÅn
function toggleMusic() {
        const music = document.getElementById('background-music');
        if(music.paused){
            const inputOptions = musicTracks.reduce((options, track) => {
                options[track.src] = track.name;
                return options;
            }, {});

            // Swal.fire({
            //     title: 'Ch·ªçn b·∫£n nh·∫°c n·ªÅn',
            //     input: 'select',
            //     inputOptions: inputOptions,
            //     inputPlaceholder: 'H√£y ch·ªçn b·∫£n nh·∫°c c·∫≠u th√≠ch.',
            //     showCancelButton: true,
            //     confirmButtonText: 'Ch·ªçn',
            //     cancelButtonText: 'H·ªßy'
            // }).then((result) => {
            //     if (result.isConfirmed) {
            //         const selectedTrack = musicTracks.find(track => track.src === result.value);
            //         if (selectedTrack) {
            //             music.src = selectedTrack.src;
            //             music.play();
            //         }
            //     } else {
            //         music.play();
            //     }
            // });
            music.play();
        } else{
            music.pause();
        }
    }

    // Th√™m n√∫t t·∫Øt/m·ªü nh·∫°c
    // const container = document.querySelector('.container');
    // const musicButton = document.createElement('button');
    // musicButton.innerText = 'üéµ';
    // musicButton.style.position = 'absolute';
    // musicButton.style.top = '10px';
    // musicButton.style.right = '10px';
    // musicButton.style.background = 'transparent';
    // musicButton.style.border = 'none';
    // musicButton.style.cursor = 'pointer';
    // musicButton.style.fontSize = '1.5rem';
    // musicButton.onclick = toggleMusic;
    // container.appendChild(musicButton);
</script>
<script>
    // Hi·ªáu ·ª©ng r∆°i tuy·∫øt t∆∞∆°ng t√°c
    function createSnowflake() {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.innerHTML = '‚ùÑÔ∏è';
        snowflake.style.left = Math.random() * 100 + 'vw';
        snowflake.style.animationDuration = 5 + Math.random() * 5 + 's';
        snowflake.style.fontSize = 12 + Math.random() * 12 + 'px';
        document.body.appendChild(snowflake);

        setTimeout(() => {
            snowflake.remove();
        }, 10000);
    }

    setInterval(createSnowflake, 200);

    // Hi·ªáu ·ª©ng √¢m thanh khi t∆∞∆°ng t√°c
    function playSound(soundUrl) {
        const audio = new Audio(soundUrl);
        audio.play();
    }

    // Th√™m s·ª± ki·ªán cho c√°c n√∫t t∆∞∆°ng t√°c
    document.querySelectorAll('.interactive-icons img').forEach(icon => {
        icon.addEventListener('click', () => {
            playSound('https://www.soundjay.com/buttons/sounds/button-3.mp3'); // Thay ƒë·ªïi URL √¢m thanh n·∫øu c·∫ßn
        });
    });
    function sendLove() {
        const love = document.createElement('div');
        love.classList.add('love-icon');
        love.innerHTML = '‚ù§Ô∏è';
        love.style.left = Math.random() * 100 + 'vw';
        love.style.top = Math.random() * 100 + 'vh';
        document.body.appendChild(love);

        setTimeout(() => {
            love.remove();
        }, 3000);
    }

    // Hi·ªáu ·ª©ng khi g·ª≠i c√¢u h·ªèi
    function handleChoice(accepted) {
        const buttons = document.querySelectorAll('.btn-love1');
        buttons.forEach(button => {
            button.style.transition = 'all 0.3s ease-in-out';
            if (accepted) {
                button.style.transform = 'scale(1.2)';
                playSound('mp3/sound_cute_01.MP3');
                Swal.fire({
                    title: 'T·ªõ r·∫•t vui!',
                    text: 'C√πng t·ªõ t·∫°o n√™n m√πa Gi√°ng Sinh tuy·ªát v·ªùi nh√©!',
                    imageUrl: 'https://media.giphy.com/media/UVk5yzljef0kGiayL1/giphy.gif',
                    imageWidth: 400,
                    imageHeight: 200,
                    imageAlt: 'GIF image',
                    confirmButtonColor: '#ff4b6e',
                    confirmButtonText: 'ƒê·ªìng √Ω 2 tay lun n√®'
                }).then((result) => {
                    document.getElementById('questionScreen').style.display = 'none';
                    document.getElementById('finalGiftScreen_all').style.display = 'block'; 
                    if (result.isConfirmed) {
                        const textElement1 = document.querySelector('.typing-effect1');
                        typeTextWithLineBreaks(textElement1); // Ch·∫°y hi·ªáu ·ª©ng typing sau khi xu·∫•t hi·ªán
                    }
                });
            } else {
                button.style.transform = 'scale(0.8)';
                playSound('https://www.soundjay.com/buttons/sounds/button-10.mp3');
                noChoiceCount++;
                if (noChoiceCount >=3 && noChoiceCount <=17) {
                    const rejectButton = document.querySelector('button[onclick="handleChoice(false)"]');
                    const maxX = window.innerWidth - rejectButton.offsetWidth;
                    const maxY = window.innerHeight - rejectButton.offsetHeight;
                    
                    rejectButton.style.position = 'fixed';
                    rejectButton.style.left = Math.random() * maxX + 'px';
                    rejectButton.style.top = Math.random() * maxY + 'px';
                    sendLove(); // G·ª≠i t√¨nh c·∫£m
                } else {
                    if (noChoiceCount > 18){
                        Swal.fire({
                            title: 'D√π sao...üòî',
                            text: 'T·ªõ v·∫´n lu√¥n qu√Ω m·∫øn c·∫≠u, ch√∫c c·∫≠u Gi√°ng Sinh ·∫•m √°p!',
                            imageUrl: 'https://media.giphy.com/media/3o6wrebnKWmvx4ZBio/giphy.gif',  // ƒê∆∞·ªùng d·∫´n ƒë·∫øn ·∫£nh ƒë·ªông (GIF)
                            imageWidth: 400,
                            imageHeight: 200,
                            imageAlt: 'GIF image',  // M√¥ t·∫£ cho ·∫£nh ƒë·ªông
                            confirmButtonColor: '#ff4b6e'
                        });
                    }
                }
            }
        });
    }
</script>

<script>
    const musicTracks = [
        { name: 'Piano Vui nh·ªôn', src: 'mp3/cute_piano.mp3' },
        { name: 'We wish you a merry christmas', src: 'mp3/piano_00.MP3' },
        { name: 'Last Christmas', src: 'mp3/piano_01.MP3' },
        { name: 'Just the two of us piano', src: 'mp3/piano_02.MP3' },
        { name: 'Winter Wonderland-Jingle bell rock', src: 'mp3/piano_03.MP3' },
        { name: 'Christmas is coming', src: 'mp3/Christmas_is_coming.MP3' }
        // Th√™m c√°c b·∫£n nh·∫°c kh√°c n·∫øu c·∫ßn
    ];
</script>
<script>
    // H√†m ch·ªçn nh·∫°c y√™u th√≠ch khi double click
    function selectMusic() {
        const music = document.getElementById('background-music');
        const musicOptions = musicTracks.reduce((options, track) => {
            options[track.src] = track.name;
            return options;
        }, {});

        Swal.fire({
            title: 'Ch·ªçn b·∫£n nh·∫°c n·ªÅn y√™u th√≠ch üé∂',
            input: 'select',
            inputOptions: musicOptions,
            inputPlaceholder: 'H√£y ch·ªçn b·∫£n nh·∫°c c·∫≠u th√≠ch.',
            showCancelButton: true,
            confirmButtonText: 'Ch·ªçn',
            cancelButtonText: 'H·ªßy'
        }).then((result) => {
            if (result.isConfirmed) {
                const selectedTrack = musicTracks.find(track => track.src === result.value);
                if (selectedTrack) {
                    music.src = selectedTrack.src;
                    music.play();
                }
            }
        });
    }
    // H√†m ƒë·ªÉ x·ª≠ l√Ω double tap tr√™n thi·∫øt b·ªã di ƒë·ªông
    function addDoubleTapListener(element, callback) {
        let lastTap = 0;
        element.addEventListener('touchend', function(event) {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            if (tapLength < 300 && tapLength > 0) {
                callback();
                event.preventDefault();
            }
            lastTap = currentTime;
        });
    }
    // Th√™m listener cho n√∫t nh·∫°c ƒë·ªÉ x·ª≠ l√Ω double tap tr√™n mobile
    const musicButton = document.querySelector('.music-button');
    addDoubleTapListener(musicButton, selectMusic);
    // C·∫≠p nh·∫≠t s·ª± ki·ªán cho n√∫t nh·∫°c ƒë√£ th√™m tooltip
    document.querySelector('.music-button').addEventListener('dblclick', selectMusic);
</script>
</body>
</html>